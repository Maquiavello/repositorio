{% extends "chat/base.html" %}
{% load static %}
{% block content %} 
<style>
            .ts-container {
            background: var(--white);
            padding: 3rem;
            border-radius: 16px;
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.05),
                0 5px 10px rgba(0, 0, 0, 0.02);
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            border: 1px solid var(--gray-300);
        }
     body {
    font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
    background: linear-gradient(135deg, var(--light-blue) 0%, var(--white) 100%);
    min-height: 100vh;
    color: var(--gray-800);
    padding: 20px;
}

.ts-header {
    text-align: center;
    margin-bottom: 2rem;
    padding: 0 1rem 1.5rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.ts-logo {
    font-size: 2.5rem;
    font-weight: 800;
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.5rem;
    letter-spacing: -0.02em;
}
.ts-dropdown {
    position: relative;
    display: inline-block;
}

</style>
<script>
    const CURRENT_USER = "{{ usuario.usuario }}";
</script>
    {% if error %}
    <div class="ts-error">
        <p style="color: red;"> ⚠️ {{ error }}</p>
    </div>
    {% endif %}

<div class="ts-header-flex">
  <h1>Inicia una conversación</h1>
  <div class="ts-dropdown">
    <button class="ts-dropdown-button" id="dropdown-toggle">
      Opciones <span class="ts-dropdown-arrow"></span>
    </button>
    <ul class="ts-dropdown-menu">
      <li><a href="{% url 'logout' %}" class="ts-dropdown-menu-item">Cerrar Sesión</a></li>
    </ul>
  </div>
</div>


<div class="ts-container">
    
    <div class="ts-header">
        <div class="ts-logo">{{ usuario.usuario }} chatea en las Salas</div>
        <div class="ts-subtitle">Bienvenidos al centro de comunicación</div>
        <h4>Elije alguna de nuestras salas de Chat</h4>
    </div>
    
    <div class="ts-rooms-container">
        {% for sala in salas %}
        <div class="ts-room-card">
            <div class="ts-room-name">{{ sala.name }}</div>
            <a class="ts-button" href="{% url 'sala' sala.id %}">Unirse</a>
        </div>
        {% endfor %}
    </div>
</div>

<script>
  document.getElementById('dropdown-toggle').addEventListener('click', function() {
    this.classList.toggle('active');
  });
</script>

{% endblock %}